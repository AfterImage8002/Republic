add_namespace = SGE
country_event = {
    id = SGE.1
    title = SGE.1.t
    desc = SGE.1.d
    picture = GFX_SGE_event_SPARTAKUS
    mean_time_to_happen = {
        days = 3
    }
    is_triggered_only = yes

    option = {
        name = SGE.1.a
        add_war_support = 0.05
        add_stability = 0.05
        hidden_effect = {
            news_event = SGE.13
        }
    }
}

country_event = {
    id = SGE.2
    title = SGE.2.t
    picture = GFX_event_sge_2
    desc = SGE.2.d
    is_triggered_only = yes
    option = {
        name = SGE.2.a
        add_stability = 0.2
        add_political_power = -50
    }
    option = {
        name = SGE.2.b
        add_political_power = 30
    }
    option = {
        name = SGE.2.c
        add_popularity = {
            ideology = neutrality
            popularity = 0.1
        }
        add_popularity = {
            ideology = conservatism
            popularity = 0.1
        }
        add_popularity = {
            ideology = progressive
            popularity = 0.1
        }
        add_political_power = 100
        set_party_name = { 
            ideology = neutrality
            long_name = new_SGE_neutrality_party
            name = new_SGE_neutrality_party
        }
        set_party_name = { 
            ideology = conservatism
            long_name = new_SGE_conservatism_party
            name = new_SGE_conservatism_party
        }
        set_party_name = { 
            ideology = progressive
            long_name = new_SGE_progressive_party
            name = new_SGE_progressive_party
        }
    }
}

country_event = {
    id = SGE.3
    title = SGE.3.t
    picture = GFX_event_sge_3
    desc = SGE.3.d
    is_triggered_only = yes
    option = {
        name = SGE.3.a
        swap_ideas = {
            remove_idea = collective_capitalist_resistance
            add_idea = sporadic_capitalist_resistance
        }
        add_political_power = -150
        50 = {
            set_demilitarized_zone = no
        }
    }
    option = {
        name = SGE.3.b
        swap_ideas = {
            remove_idea = collective_capitalist_resistance
            add_idea = sporadic_capitalist_resistance
        }
        50 = {
            set_demilitarized_zone = no
            damage_building = { type = industrial_complex damage = 0.5 }
			damage_building = { type = arms_factory damage = 0.5 }
			damage_building = { type = infrastructure damage = 0.5 }
        }
        add_political_power = 50
        add_stability = -0.05
        add_timed_idea = {
            idea = building_reconstruction
            days = 150
        }
    }
}

country_event = {
    id = SGE.4
    title = SGE.4.t
    desc = SGE.4.d
    picture = GFX_event_sge_4
    is_triggered_only = yes
    option = {
        name = SGE.4.a
        add_ideas = {
            proletarian_parliament
        }
        add_popularity = {
            ideology = socialism
            popularity = 0.4
        }
        add_popularity = {
            ideology = fascism
            popularity = 0.3
        }
        
    }
    option = {
        add_ideas = {
            proletarian_parliament
        }
        name = SGE.4.b
        add_popularity = {
            ideology = fascism
            popularity = 0.4
        }
        add_popularity = {
            ideology = socialism
            popularity = 0.3
        }
    }
}
country_event = {
    id = SGE.5
    title = SGE.5.t
    desc = SGE.5.d
    picture = GFX_event_sge_5
    is_triggered_only = yes
    option = {
        name = SGE.5.a
        53 = {
            damage_building = {
                type = infrastructure
                damage = 0.2
            }
        }
        
    }
}
country_event = {
    id = SGE.6
    title = SGE.6.t
    desc = SGE.6.d
    picture = GFX_event_sge_6
    is_triggered_only = yes
    option = {
        name = SGE.6.a
        54 = {
            damage_building = {
                type = industrial_complex
                damage = 0.2
            }
        }
        
    }
}

country_event = {
    id = SGE.7
    title = SGE.7.t
    desc = SGE.7.d
    picture = GFX_event_sge_7
    is_triggered_only = yes
    option = {
        add_political_power = 10
        add_stability = 0.1
        add_war_support = 0.1
        name = SGE.7.a
        set_party_name = { 
            ideology = communism
            long_name = new_SGE_communism_party
            name = new_SGE_communism_party
        }
        set_party_name = { 
            ideology = fascism
            long_name = new_SGE_fascism_party
            name = new_SGE_fascism_party
        }
        set_party_name = { 
            ideology = socialism
            long_name = new_SGE_socialism_party
            name = new_SGE_socialism_party
        }
        SGE = {
            set_cosmetic_tag = SGE_elec
        }
    }
}

country_event = { #공산당 우파 집회
    id = SGE.8
    title = SGE.8.t
    desc = SGE.8.d
    picture = GFX_event_sge_8
    is_triggered_only = yes
    option = {
        add_stability = 0.01
        add_popularity = {
            ideology = communism
            popularity = 0.01
        }
        name = SGE.8.a
        recruit_character = SGE_Thalman
        hidden_effect = {
            retire_country_leader = yes
        }
        if = {
            limit = {
                neutrality > 0.3
            }
            set_popularities = {
                communism = 40
                socialism = 21
                fascism = 30
                neutrality = 3
                conservatism = 3
                progressive = 3
            }
        }
        set_popularities = {
            communism = 40
            socialism = 25
            fascism = 35
        }
    }
    option = {
        add_stability = 0.01
        add_popularity = {
            ideology = communism
            popularity = 0.01
        }
        recruit_character = SGE_Levi
        hidden_effect = {
            retire_country_leader = yes
        }
        name = SGE.8.b
        if = {
            limit = {
                neutrality > 0.3
            }
            set_popularities = {
                communism = 40
                socialism = 21
                fascism = 30
                neutrality = 3
                conservatism = 3
                progressive = 3
            }
        }
        set_popularities = {
            communism = 40
            socialism = 25
            fascism = 35
        }
    }
    option = {
        add_stability = 0.01
        add_popularity = {
            ideology = communism
            popularity = 0.01
        }
        recruit_character = SGE_Pick
        hidden_effect = {
            retire_country_leader = yes
        }
        name = SGE.8.c
        if = {
            limit = {
                neutrality > 0.3
            }
            set_popularities = {
                communism = 40
                socialism = 21
                fascism = 30
                neutrality = 3
                conservatism = 3
                progressive = 3
            }
        }
        set_popularities = {
            communism = 40
            socialism = 25
            fascism = 35
        }
    }
}
country_event = { #공산당 좌파 집회
    id = SGE.9
    title = SGE.9.t
    picture = GFX_event_sge_9
    desc = SGE.9.d
    is_triggered_only = yes
    option = {
        hidden_effect = {
            complete_national_focus = SGE_Kl_focus_1
            load_focus_tree = SGE_Kl
        }
        add_stability = 0.1
        add_popularity = {
            ideology = communism
            popularity = 0.3
        }
        recruit_character = SGE_Otto
        hidden_effect = {
            retire_ideology_leader = communism
        }
        name = SGE.9.a
        if = {
            limit = {
                neutrality > 0.3
            }
            set_popularities = {
                communism = 40
                socialism = 21
                fascism = 30
                neutrality = 3
                conservatism = 3
                progressive = 3
            }
        }
        set_popularities = {
            communism = 40
            socialism = 25
            fascism = 35
        }
    }
    option = {
        hidden_effect = {
            complete_national_focus = SGE_Kl_focus_1
            load_focus_tree = SGE_Kl
        }
        add_stability = 0.1
        add_popularity = {
            ideology = communism
            popularity = 0.3
        }
        recruit_character = SGE_Korsch
        hidden_effect = {
            retire_ideology_leader = communism
        }
        name = SGE.9.a
        if = {
            limit = {
                neutrality > 0.3
            }
            set_popularities = {
                communism = 40
                socialism = 21
                fascism = 30
                neutrality = 3
                conservatism = 3
                progressive = 3
            }
        }
        set_popularities = {
            communism = 40
            socialism = 25
            fascism = 35
        }
    }
    option = {
        hidden_effect = {
            complete_national_focus = SGE_Kl_focus_1
            load_focus_tree = SGE_Kl
        }
        add_stability = 0.1
        add_popularity = {
            ideology = communism
            popularity = 0.3
        }
        recruit_character = SGE_Mattik
        hidden_effect = {
            retire_country_leader = yes
        }
        name = SGE.9.c
        if = {
            limit = {
                neutrality > 0.3
            }
            set_popularities = {
                communism = 40
                socialism = 21
                fascism = 30
                neutrality = 3
                conservatism = 3
                progressive = 3
            }
        }
        set_popularities = {
            communism = 40
            socialism = 25
            fascism = 35
        }
    }
    option = {
        hidden_effect = {
            complete_national_focus = SGE_Kl_focus_1
            load_focus_tree = SGE_Kl
        }
        add_stability = 0.1
        add_popularity = {
            ideology = communism
            popularity = 0.3
        }
        recruit_character = SGE_Kautsky
        hidden_effect = {
            retire_country_leader = yes
        }
        name = SGE.9.e
        if = {
            limit = {
                neutrality > 0.3
            }
            set_popularities = {
                communism = 40
                socialism = 21
                fascism = 30
                neutrality = 3
                conservatism = 3
                progressive = 3
            }
        }
        set_popularities = {
            communism = 40
            socialism = 25
            fascism = 35
        }
        
    }
}
country_event = { #노동자당 좌파 집회
    id = SGE.10
    title = SGE.10.t
    desc = SGE.10.d
    picture = GFX_event_sge_10
    is_triggered_only = yes
    option = {
        add_stability = 0.1
        add_popularity = {
            ideology = fascism
            popularity = 0.03
        }
        name = SGE.10.a
        recruit_character = SGE_Strasser
        hidden_effect = {
            retire_ideology_leader = fascism
        }
        set_politics = {
            ruling_party = fascism
        } 
        if = {
            limit = {
                neutrality > 0.3
            }
            set_popularities = {
                fascism= 40
                socialism = 21
                communism = 30
                neutrality = 3
                conservatism = 3
                progressive = 3
            }
        }
        set_popularities = {
            fascism = 40
            socialism = 25
            communism = 35
        }
        
    }
    option = {
        add_stability = 0.1
        add_popularity = {
            ideology = fascism
            popularity = 0.03
        }
        name = SGE.10.b 
       
        recruit_character = SGE_Rohm
        hidden_effect = {
            retire_ideology_leader = fascism
        }
        set_politics = {
            ruling_party = fascism
        }      
        if = {
            limit = {
                neutrality > 0.3
            }
            set_popularities = {
                fascism= 40
                socialism = 21
                communism = 30
                neutrality = 3
                conservatism = 3
                progressive = 3
            }
        }
        set_popularities = {
            fascism = 40
            socialism = 25
            communism = 35
        }
    }
}
country_event = { #선거 종료
    id = SGE.11
    title = SGE.11.t
    desc = SGE.11.d
    picture = GFX_event_sge_11
    is_triggered_only = yes
    option = {
        add_stability = 0.01
        trigger = {
            communism > 0.5
        }
        name = SGE.11.a
        clear_variable = sge_soc
        clear_variable = sge_com
        clear_variable = sge_fas
        country_event = {
            id = SGE.8
            days = 3
        }
    }
    option = {
        add_stability = 0.01
        trigger = {
            socialism > 0.5
        }
        set_party_name = {
            ideology = communism
            long_name = new_SGE_communism_party_1
            name = new_SGE_communism_party_1
        }
        set_party_name = {
            ideology = socialism
            long_name = new_SGE_socialism_party_1
            name = new_SGE_socialism_party_1
        }
        
        name = SGE.11.b
        clear_variable = sge_soc
        clear_variable = sge_com
        clear_variable = sge_fas
        country_event = {
            id = SGE.9
            days = 3
        }
    }
    option = {
        add_stability = 0.01
        trigger = {
            fascism > 0.5
        }
        name = SGE.11.c
        clear_variable = sge_soc
        clear_variable = sge_com
        clear_variable = sge_fas
        country_event = {
            id = SGE.10
            days = 3
        }
    }
}
country_event = {
    id = SGE.12
    hidden = yes
    is_triggered_only = yes
    fire_only_once = yes
    option = {
        set_variable = {
            sge_soc = socialism
        }
        set_variable = {
            sge_fas = fascism
        }
        set_variable = {
            sge_com = communism
        }
        add_popularity = {
            ideology = var:highest_party_ideology
            popularity = 0.3
        }
        country_event = SGE.11
    }
}
news_event = {
    id = SGE.13
    major = yes
    picture = GFX_event_sge_13
    is_triggered_only = yes
    title = SGE.13.t
    desc = SGE.13.d
    option = {
        trigger = {
            has_government = communism
        }
        name = SGE.13.a
    }
    option = {
        trigger = {
            has_government = socialism
        }
        add_popularity = {
            ideology = communism
            popularity = 0.01
        }
        name = SGE.13.b
    }
    option = {
        trigger = {
            NOT = {
                has_government = socialism
                has_government = communism
            }
        }
        name = SGE.13.c
        if = {
            limit = {
                has_country_leader_ideology = stratocracy
            }
        } 
        else = {
            add_popularity = {
                ideology = communism
                popularity = 0.01
            }
        }
        
    }
}